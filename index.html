<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
    <link rel='icon' type='image/jpg' href='https://jeremykirc.github.io/surf/wave_favicon.png'>

    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T' crossorigin='anonymous'>

    <title>SC Buoys</title>
    <style>
      .container {
        margin-bottom: 20px;
      }
      .chart-container {
        margin-top: 30px;
        text-align: center;
      }
      .chart-container ul {
        margin: 20px 0px 10px;
        padding-left: 20px;
        text-align: left;
        list-style: none;
        font-size: 14px;
      }
      .chart-container .chart-wrapper {
        height: 100%;
        border: 1px solid lightgray;
        padding: 5px 10px;
      }
      .chart-container img {
        width: 100%;
      }
      li.updated-at {
        margin-bottom: 5px;
        font-size: 12px;
        font-style: italic;
      }
      .dot {
        height: 10px;
        width: 10px;
        margin-right: 5px;
        border-radius: 50%;
        display: inline-block;
      }
      .water-temp {
        margin-top: 5px;
      }
      .water-temp span {
        position: relative;
        top: 2px;
        font-size: 16px;
        font-weight: 600;
        color: #2a5f75;
      }
      .water-temp img.waterdrop {
        position: relative;
        right: 1px;
        margin-right: 3px;
        height: 20px;
        width: auto;
      }
      .buoy-header, .tides-header, .forecast-header, .wind-header {
        text-align: center;
        margin-bottom: 0px;
        margin-top: 40px;
      }
      .buoy-header {
        margin-top: 20px;
      }
      iframe {
        width: 93vw;
        max-width: 1100px;
      }
      @media(min-width: 992px) {
        .chart-container img.tide-chart {
          width: 70%;
        }
      }
      @media(max-width: 1199px) {
        .container {
          max-width: 98% !important;
        }
      }
      @media(min-width: 768px) {
        .row.sm-screen {
          display: none;
        }
      }
      @media(max-width: 767px) {
        .row.lg-screen {
          display: none;
        }
        iframe {
          width: 90vw;
        }
      }
      @media(max-width: 500px) {
        .chart-container img {
          width: 100%;
        }
      }
    </style>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js' integrity='sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1' crossorigin='anonymous'></script>
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js' integrity='sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM' crossorigin='anonymous'></script>
    <script src='https://cdn.jsdelivr.net/npm/chart.js@3.8.0/dist/chart.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    
    <!-- load local js file -->
    <script src="surf.js"></script>
</head>
<body>
<div class="container mt-4">

  <!-- Nav tabs -->
  <ul class="nav nav-tabs" id="surfTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="live-tab" data-toggle="tab" data-target="#live" type="button" role="tab" aria-controls="live" aria-selected="true">
        Live Conditions
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="forecast-tab" data-toggle="tab" data-target="#forecast" type="button" role="tab" aria-controls="forecast" aria-selected="false">
        Forecast
      </button>
    </li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content" id="surfTabsContent" style="margin-top: 20px;">
    <!-- Live Conditions Tab -->
    <div class="tab-pane fade show active" id="live" role="tabpanel" aria-labelledby="live-tab">
      
      <!-- Live Buoys -->
      <h4 class='buoy-header'>Buoys</h4>
      <div class='row'>
        <div class='col-md-6 chart-container'>
          <div class='chart-wrapper'>
            <canvas id='buoyChart-46214' height='200'></canvas>
            <ul id='latestSwellReadings-46214'></ul>
          </div>
        </div>
        <div class='col-md-6 chart-container'>
          <div class='chart-wrapper'>
            <canvas id='buoyChart-46239' height='200'></canvas>
            <ul id='latestSwellReadings-46239'></ul>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-md-6 chart-container'>
          <div class='chart-wrapper'>
            <canvas id='buoyChart-46236' height='200'></canvas>
            <ul id='latestSwellReadings-46236'></ul>
          </div>
        </div>
        <div class='col-md-6 chart-container'>
          <div class='chart-wrapper'>
            <canvas id='buoyChart-46028' height='200'></canvas>
            <ul id='latestSwellReadings-46028'></ul>
          </div>
        </div>
      </div>

      <!-- Windy -->
      <h4 class='wind-header'>Wind</h4>
      <div class='chart-container mb-4 text-center'>
        <iframe 
          height='400' 
          width='400'
          src='https://embed.windy.com/embed2.html?lat=37.007&lon=-122.151&detailLat=37.007&detailLon=-122.151&width=750&height=600&zoom=10&level=surface&overlay=wind&product=ecmwf&menu=&message=true&marker=&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=default&metricTemp=default&radarRange=-1' 
          frameborder='0'>
        </iframe>
      </div>

      <!-- Tide Chart -->
      <h4 class='tides-header'>Tides</h4>
      <div class='chart-container mb-4'>
        <script src="https://www.tidespro.com/scripts/146a2908f133493aac282c5159dfbcb5/tidechart/us/california/santa-cruz-monterey-bay"></script>
      </div>

    
    </div>

    <!-- Forecast Tab -->
    <div class="tab-pane fade" id="forecast" role="tabpanel" aria-labelledby="forecast-tab">
      <h4 class='forecast-header'>Buoy Forecasts</h4>
      <div class='chart-container mb-4'>
        <h6>Half Moon Bay</h6>
        <img id='halfmoonBuoy1'>
        <img id='halfmoonBuoy2' style='margin-top: 20px'>
      </div>

      <div class='chart-container mb-4'>
        <h6>Monterey Bay</h6>
        <img id='montereyBuoy1'>
        <img id='montereyBuoy2' style='margin-top: 20px'>
      </div>

      <div class='chart-container'>
        <img src='https://cdip.ucsd.edu/themes/media/images/plots/buoy_ww3.gd?stn=157&tz=UTC&units=standard' alt="Wave Forecast">
      </div>
    </div>
  </div>

</div>

</body>
</html>